document.addEventListener('DOMContentLoaded',function(){const mobileMenuButton=document.getElementById('mobile-menu-button');const mobileMenu=document.getElementById('mobile-menu');mobileMenuButton&&mobileMenuButton.addEventListener('click',function(){mobileMenu.classList.toggle('hidden')});const mobileMenuLinks=mobileMenu.querySelectorAll('a');mobileMenuLinks.forEach(link=>{link.addEventListener('click',()=>{mobileMenu.classList.add('hidden')})});const navbar=document.getElementById('navbar');let lastScroll=0;window.addEventListener('scroll',()=>{const currentScroll=window.pageYOffset;currentScroll>100?navbar.classList.add('scrolled'):navbar.classList.remove('scrolled');lastScroll=currentScroll});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const target=document.querySelector(this.getAttribute('href'));if(target){const navHeight=navbar.offsetHeight;const targetPosition=target.offsetTop-navHeight-20;window.scrollTo({top:targetPosition,behavior:'smooth'})}})});const observerOptions={threshold:0.1,rootMargin:'0px 0px -50px 0px'};const observer=new IntersectionObserver(function(entries,observer){entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('visible');observer.unobserve(entry.target)}}},observerOptions);const animateElements=document.querySelectorAll('.fade-in, .fade-in-delay');animateElements.forEach(el=>{el.classList.add('animate-on-scroll');observer.observe(el)});const contactForm=document.getElementById('contact-form');const formMessage=document.getElementById('form-message');if(contactForm){contactForm.addEventListener('submit',function(e){e.preventDefault();const formData=new FormData(contactForm);const data=Object.fromEntries(formData.entries());const submitButton=contactForm.querySelector('button[type="submit"]');const originalText=submitButton.textContent;submitButton.disabled=true;submitButton.innerHTML='<span class="spinner"></span> Sending...';setTimeout(()=>{formMessage.textContent='Thank you! We\'ll contact you within 24 hours to schedule your first class.';formMessage.className='mt-4 text-center text-green-600 font-medium';formMessage.classList.remove('hidden');contactForm.reset();submitButton.disabled=false;submitButton.textContent=originalText;setTimeout(()=>{formMessage.classList.add('hidden')},5000);console.log('Form submitted:',data);if(typeof gtag!=='undefined'){gtag('event','form_submit',{'event_category':'engagement','event_label':'contact_form'})}},1500)}});const lazyImages=document.querySelectorAll('img[loading="lazy"]');if('loading' in HTMLImageElement.prototype){lazyImages.forEach(img=>{img.src=img.src})}else{const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.src;img.classList.remove('loading');imageObserver.unobserve(img)}})});lazyImages.forEach(img=>{img.classList.add('loading');imageObserver.observe(img)})};const serviceCards=document.querySelectorAll('.bg-gray-50.rounded-lg.p-8');serviceCards.forEach(card=>{card.addEventListener('mouseenter',function(){this.style.transform='translateY(-5px)'});card.addEventListener('mouseleave',function(){this.style.transform='translateY(0)'})});mobileMenuButton.addEventListener('keydown',function(e){if(e.key==='Enter'||e.key===' '){e.preventDefault();this.click()}});const interactiveElements=document.querySelectorAll('a, button, input, textarea, select');interactiveElements.forEach(element=>{if(!element.hasAttribute('tabindex')){element.setAttribute('tabindex','0')}});window.addEventListener('load',function(){const link=document.createElement('link');link.href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap';link.rel='stylesheet';document.head.appendChild(link)});window.addEventListener('error',function(e){console.error('An error occurred:',e.error)});document.addEventListener('visibilitychange',function(){if(document.hidden){document.querySelectorAll('.animate-on-scroll').forEach(el=>{el.style.animationPlayState='paused'})}else{document.querySelectorAll('.animate-on-scroll').forEach(el=>{el.style.animationPlayState='running'})}});window.addEventListener('beforeprint',function(){document.body.classList.add('printing')});window.addEventListener('afterprint',function(){document.body.classList.remove('printing')});const elementsWithTitle=document.querySelectorAll('[title]');elementsWithTitle.forEach(element=>{const title=element.getAttribute('title');element.setAttribute('data-tooltip',title);element.removeAttribute('title')});if('serviceWorker' in navigator&&window.location.protocol==='https:'){window.addEventListener('load',function(){navigator.serviceWorker.register('/sw.js').then(function(registration){console.log('ServiceWorker registration successful')},function(err){console.log('ServiceWorker registration failed: ',err)})})}});function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}}function throttle(func,limit){let inThrottle;return function(...args){if(!inThrottle){func.apply(this,args);inThrottle=true;setTimeout(()=>inThrottle=false,limit)}}}window.nhpUtils={debounce,throttle};